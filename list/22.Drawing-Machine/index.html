<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0,user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <meta http-equiv="Content-Language" content="ko-KR">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <link rel="stylesheet" href="../common/css/font.cdn.css">
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/common.css">
    <!-- <link rel="stylesheet" href="./css/style.css"/> -->
    <link href="https://webfontworld.github.io/gmarket/GmarketSans.css" rel="stylesheet">
    <title>TEST</title>
</head>
<body>
    <style>
    @keyframes craneLeft {
    30% { transform: rotate(15deg); transform-origin: right top; }
    50% { transform: rotate(18deg); }
    100% { transform: rotate(0); }
    }
    @keyframes craneRight {
    30% { transform: rotate(-15deg); transform-origin: left top; }
    50% { transform: rotate(-18deg); }
    100% { transform: rotate(0); }
    }
    @keyframes posX {
    to { left: 50%; transform: translateX(-50%); }
    }
    @keyframes posY {
    to { top: -3.125rem; }
    }
    @keyframes rollbak {
    to { top: -7.5rem; }
    }
    @keyframes show {
    to { opacity: 1; }
    }
    @keyframes fall {
    0% { transform: translateX(0) rotate(0deg); }
    25% { transform: translateX(-1.25rem) rotate(30deg); opacity: 1; }
    50% { transform: translateX(2.5rem) rotate(-30deg); }
    75% { transform: translateX(-0.625rem) rotate(30deg); }
    100% { transform: translateX(0) rotate(0deg); top: 90vh; opacity: 0; }
    }
    @keyframes fall2 {
    0% { transform: translateX(0) rotate(0deg); }
    25% { transform: translateX(-0.625rem) rotate(10deg); opacity: 1; }
    50% { transform: translateX(1.875rem) rotate(-10deg); }
    75% { transform: translateX(-0.625rem) rotate(14deg); }
    100% { transform: translateX(0) rotate(0deg); top: 50vh; opacity: 0; }
    }
    @keyframes twinkle {
    0% { transform: scale(0.6); opacity: 0.2; }
    50% { transform: scale(1); opacity: 0.8; }
    100% { transform: scale(0.6); opacity: 0.2; }
    }
    @keyframes upScale {
    50% { transform: scale(1.1); opacity: 1; }
    100% { transform: scale(1); opacity: 1; }
    }
    .draw-promo-wrap { position: relative; max-width: 720px; margin: 0 auto; padding: 1.875rem 1.875rem 2.5rem; background: url("./images/bg_draw_promo.png") no-repeat center top/cover #aaa; overflow: hidden; }
    .draw-promo-wrap * { font-family: "GmarketSans"; line-height: 1.2; }
    .draw-promo-wrap.bgChange { background-image: url("./images/bg_draw_promo_send.png"); }
    .draw-promo-wrap .draw-cont-btn { position: relative; z-index: 2; }
    .draw-promo-wrap .draw-cont-btn .base-btn { position: relative; display: block; max-width: 17.5rem; width: 100%; height: 3.75rem; margin: 1.25rem auto 0; border-radius: 0.625rem; background: url("./images/bg_draw_btn.png") no-repeat center/100%; font-size: 1.875rem; font-weight: 700; line-height: 4.0625rem; color: #fff; letter-spacing: -0.0625rem; text-align: center; overflow: hidden; transition-duration: 0.2s; }
    .draw-promo-wrap .draw-cont-btn .base-btn.arr:after { content: ""; display: inline-block; vertical-align: top; width: 0.875rem; height: 1.5rem; margin: 1.125rem 0 0 0.75rem; background: url("./images/ico_btn_arr.png") no-repeat center/100% auto; }
    .draw-promo-wrap .draw-cont-btn .base-btn:disabled { box-shadow: 0.0625rem 0 0.25rem 0.25rem rgba(0, 0, 0, 0.08) inset; background: #aaa; pointer-events: none; cursor: none; }
    .draw-promo-wrap .draw-cont-btn p { margin: 0.625rem auto 0; font-size: 1rem; font-weight: 500; line-height: 1.2; color: #000; letter-spacing: -0.125rem; text-align: center; }
    .draw-promo-wrap .draw-promo-head { word-break: keep-all; font-size: 1.875rem; font-weight: 700; line-height: 1.2; color: #ee1c7a; letter-spacing: -0.1875rem; text-align: center; }
    .draw-promo-wrap .draw-promo-head p { font-size: 1.25rem; font-weight: 500; letter-spacing: -0.0625rem; }
    .draw-promo-wrap .draw-promo-head p strong { font-weight: 700; }
    .draw-promo-wrap .draw-cont-machine { position: relative; z-index: 1; margin: 1.75rem -0.5rem 0; }
    .draw-promo-wrap .draw-cont-machine .obj { position: absolute; left: 0.625rem; top: -2.5rem; z-index: 1; width: 2.0625rem; height: 1.5625rem; pointer-events: none; opacity: 0.4; animation: fall 6s infinite ease-in-out; }
    .draw-promo-wrap .draw-cont-machine .obj.flower02 { left: auto; right: 0.625rem; top: 15rem; width: 2.625rem; height: 1.875rem; }
    .draw-promo-wrap .draw-cont-machine .machine-body { position: relative; max-width: 14.5rem; width: 100%; height: auto; margin: 0 auto; background: url("./images/bg_draw_body.png") no-repeat center/100% auto; }
    .draw-promo-wrap .draw-cont-machine .machine-body:before { content: ""; display: block; padding-top: 137.5%; }
    .draw-promo-wrap .draw-cont-machine .machine-body:after { content: ""; position: absolute; left: 50%; bottom: -1.25rem; z-index: -1; width: calc(100% + 5rem); height: 20%; transform: translateX(-50%); background: url("./images/bg_draw_body_shadow.png") no-repeat center/100% auto; }
    .draw-promo-wrap .draw-cont-machine .machine-body .machine-frame { position: absolute; left: 50%; top: 1.40625rem; z-index: 1; width: calc(100% - 3.4375rem); height: 58.9%; transform: translateX(-50%); overflow: hidden; }
    .draw-promo-wrap .draw-cont-machine .machine-body .machine-frame:after { content: ""; position: absolute; left: 0; bottom: 0; z-index: 2; width: 100%; height: 50%; background: url("./images/bg_draw_body_dummy.png") no-repeat center bottom/100% auto; }
    .draw-promo-wrap .draw-cont-machine .machine-body .machine-frame .machine-crane { position: absolute; left: 1.875rem; top: -7.5rem; z-index: 2; width: 2.0625rem; height: 12.9375rem; background: url("./images/img_crane_body.png") no-repeat center bottom/100% auto; pointer-events: none; }
    .draw-promo-wrap .draw-cont-machine .machine-body .machine-frame .machine-crane .machine-crane-left { position: absolute; left: -1.125rem; bottom: -0.375rem; z-index: 1; width: 1.875rem; height: 3rem; background: url("./images/img_crane_left.png") no-repeat center/100% auto; }
    .draw-promo-wrap .draw-cont-machine .machine-body .machine-frame .machine-crane .machine-crane-right { position: absolute; right: -1.125rem; bottom: -0.375rem; z-index: 1; width: 1.875rem; height: 3rem; background: url("./images/img_crane_right.png") no-repeat center/100% auto; }
    .draw-promo-wrap .draw-cont-machine .machine-body .machine-frame .machine-crane.active { animation: posX 1.4s ease-in forwards, posY 2s ease-out 1.4s forwards, rollbak 1.4s ease-in 4s forwards; }
    .draw-promo-wrap .draw-cont-machine .machine-body .machine-frame .machine-crane.active:after { content: ""; position: absolute; left: 50%; bottom: -1.75rem; width: 3.375rem; height: 3.375rem; margin-left: -1.6875rem; background: url("./images/img_deal_ran.png") no-repeat center/100% auto; opacity: 0; animation: show 0.4s ease-in 4s forwards; }
    .draw-promo-wrap .draw-cont-machine .machine-body .machine-frame .machine-crane.active .machine-crane-left { animation: craneLeft 2s linear 1.6s forwards; }
    .draw-promo-wrap .draw-cont-machine .machine-body .machine-frame .machine-crane.active .machine-crane-right { animation: craneRight 2s linear 1.6s forwards; }
    .draw-promo-wrap .draw-cont-machine .deal-machine-btn { position: relative; z-index: 2; }
    .draw-promo-wrap .draw-cont-machine .deal-machine-btn a { display: block; max-width: 17.5rem; width: 100%; height: 3.75rem; margin: 1.25rem auto 0; background: url("./images/img_deal_btn.png") no-repeat center/100%; font-size: 1.875rem; font-weight: 700; line-height: 4.25rem; color: #fff; letter-spacing: -0.0625rem; text-align: center; }
    .draw-promo-wrap .draw-cont-machine .deal-machine-btn p { margin: 1.25rem auto 0; font-size: 1rem; font-weight: 500; line-height: 1.2; color: #000; letter-spacing: -0.0625rem; text-align: center; }
    .draw-promo-wrap .draw-cont-benefit { margin: -2.5rem -1.5625rem 0; }
    .draw-promo-wrap .draw-cont-benefit .bene-img { text-align: center; }
    .draw-promo-wrap .draw-result-wrap { display: none; margin: 1.5625rem auto 0; }
    .draw-promo-wrap .draw-result-wrap h2 { margin: 0 -1.25rem; word-break: keep-all; font-size: 1.625rem; font-weight: 700; line-height: 1.2; color: #000; letter-spacing: -0.1875rem; text-align: center; }
    .draw-promo-wrap .draw-result-wrap h2 p { margin-top: 0.5rem; font-size: 1rem; font-weight: 500; line-height: 1.2; letter-spacing: -0.125rem; }
    .draw-promo-wrap .draw-result-wrap .inp-box { margin: 2.5rem auto 0; text-align: center; }
    .draw-promo-wrap .draw-result-wrap .inp-box p { font-size: 1rem; font-weight: 500; line-height: 1.2; color: #000; letter-spacing: -0.125rem; }
    .draw-promo-wrap .draw-result-wrap .inp-box input { max-width: 17.5rem; width: 100%; height: 3.75rem; margin: 0.9375rem auto 0; border: 1px solid #fff; border-radius: 0.625rem; box-shadow: 0.125rem 0.125rem 0.25rem 0 rgba(0, 0, 0, 0.3) inset; background-color: #fff; font-size: 1.875rem; font-weight: 500; line-height: 1.2; color: #000; letter-spacing: -0.125rem; text-align: center; }
    .draw-promo-wrap .draw-result-wrap .inp-box input::-webkit-input-placeholder { color: #ccc; }
    .draw-promo-wrap .draw-result-wrap .inp-box input::-moz-placeholder { color: #ccc; }
    .draw-promo-wrap .draw-result-wrap .inp-box input:-ms-input-placeholder { color: #ccc; }
    .draw-promo-wrap .draw-result-wrap .inp-box input::-ms-input-placeholder { color: #ccc; }
    .draw-promo-wrap .draw-result-wrap .inp-box input::placeholder { color: #ccc; }
    .draw-promo-wrap .draw-result-wrap .result-box { position: absolute; left: 50%; top: 0; z-index: 4; width: 100%; height: 50vh; margin-left: -50%; }
    .draw-promo-wrap .draw-result-wrap .result-box:after { content: ""; position: absolute; left: 50%; top: 6.875rem; z-index: 1; width: 13rem; height: 13rem; margin-left: -6.5rem; background: url("./images/img_rank_result_04.png") no-repeat center/100% auto; opacity: 0; }
    .draw-promo-wrap .draw-result-wrap .result-box.rank1:after { background-image: url("./images/img_rank_result_01.png"); }
    .draw-promo-wrap .draw-result-wrap .result-box.rank2:after { background-image: url("./images/img_rank_result_02.png"); }
    .draw-promo-wrap .draw-result-wrap .result-box.rank3:after { background-image: url("./images/img_rank_result_03.png"); }
    .draw-promo-wrap .draw-result-wrap.show .result-box::after { animation: upScale 0.6s ease-in-out forwards; }
    .draw-promo-wrap .draw-result-wrap.show .obj2 { position: absolute; left: 2.8125rem; top: 5.625rem; z-index: 5; width: 4.375rem; height: 5rem; pointer-events: none; opacity: 0.6; animation: twinkle 1s infinite ease-in-out; }
    .draw-promo-wrap .draw-result-wrap.show .obj2.twinkle02 { left: 2.1875rem; top: 13.4375rem; width: 4.875rem; height: 4.875rem; animation-delay: 0.4s; }
    .draw-promo-wrap .draw-result-wrap.show .obj2.twinkle03 { left: auto; right: 1.5625rem; top: 13.25rem; width: 4.6875rem; height: 4.9375rem; animation-delay: 0.8s; }
    .draw-promo-wrap .draw-send-wrap { display: none; margin: 1.5625rem auto 0; }
    .draw-promo-wrap .draw-send-wrap.show .obj { position: absolute; right: 0.625rem; top: 10rem; z-index: 1; width: 3.125rem; height: 2.5rem; pointer-events: none; opacity: 0.4; animation: fall2 6s infinite ease-in-out; }
    .draw-promo-wrap .draw-send-wrap.show .obj.leaves02 { top: auto; bottom: 5.3125rem; right: auto; left: 2.8125rem; z-index: 3; width: 2rem; height: 2.25rem; animation: none; opacity: 1; }
    .draw-promo-wrap .draw-send-wrap h2 { margin: 0.625rem -0.9375rem; word-break: keep-all; font-size: 1.625rem; font-weight: 700; line-height: 1.2; color: #000; letter-spacing: -0.125rem; text-align: center; }
    .draw-promo-wrap .draw-send-wrap h2 p { margin-top: 0.5rem; word-break: keep-all; font-size: 1rem; font-weight: 500; line-height: 1.2; letter-spacing: -0.125rem; }
    .draw-promo-wrap .draw-send-wrap .send-img { text-align: center; }
    .draw-promo-wrap .draw-send-wrap .send-img img { max-width: 9.625rem; }
    .draw-promo-noti { max-width: 720px; margin: 0 auto; }
    .draw-promo-noti .tit { display: flex; align-items: center; justify-content: center; height: 2.5rem; background-color: #568b00; font-size: 0.75rem; font-weight: 500; line-height: 1.2; color: #fff; letter-spacing: -0.03125rem; text-align: center; }
    .draw-promo-noti .noti-list { padding: 2.5rem 1.875rem; background-color: #6cae02; }
    .draw-promo-noti .noti-list strong { display: block; font-size: 0.875rem; font-weight: 700; line-height: 1.2; color: #fff; letter-spacing: -0.03125rem; text-align: left; }
    .draw-promo-noti .noti-list ul { margin-top: 0.875rem; }
    .draw-promo-noti .noti-list ul li { position: relative; padding-left: 0.375rem; word-break: keep-all; font-size: 0.75rem; font-weight: 400; line-height: 1rem; color: #fff; letter-spacing: -0.03125rem; text-align: left; }
    .draw-promo-noti .noti-list ul li:before { content: ""; position: absolute; left: 0; top: 0.375rem; width: 0.125rem; height: 0.125rem; border-radius: 100%; background-color: #fff; }
    </style>
    <div class="draw-promo-wrap">
        <!-- # 타이틀 영역 -->
        <h1 class="draw-promo-head">
            <p><strong>최대 30만원</strong> 페이백의 행운!</p>
            100% 당첨 보물 뽑기
        </h1>
        <!-- // -->

        <!-- # 뽑기 영역 -->
        <section class="draw-cont-machine">
            <div class="flower01 obj"><img src="./images/img_obj_flower01.png"></div>
            <div class="flower02 obj"><img src="./images/img_obj_flower02.png"></div>
            <div class="machine-body">
                <div class="machine-frame">
                    <div class="machine-crane">
                        <div class="machine-crane-left"></div>
                        <div class="machine-crane-right"></div>
                    </div>
                </div>
            </div>
            <div class="draw-cont-btn">
                <button type="button" class="base-btn arr" id="drawActBtn">지금 뽑아보세요</button>
                <p>타임딜 차량 구매시 사용 가능한<br>보물같은 쿠폰을 드려요</p>
            </div>
        </section>
        <!-- // -->

        <!-- # 혜택 영역 -->
        <section class="draw-cont-benefit">
            <div class="bene-img">
                <img src="./images/bg_draw_benefit.png" alt="이벤트 경품">
            </div>
        </section>
        <!-- // -->

        <!-- # 뽑기 결과 -->
        <section class="draw-result-wrap">
            <div class="result-box">
                <div class="twinkle01 obj2"><img src="./images/img_obj_twinkle01.png"></div>
                <div class="twinkle02 obj2"><img src="./images/img_obj_twinkle02.png"></div>
                <div class="twinkle03 obj2"><img src="./images/img_obj_twinkle03.png"></div>
            </div>
            <h2><p>타임딜 차량 온라인계약 시 사용 가능해요 </p></h2>
            <div class="inp-box">
                <p>쿠폰을 받으실 전화번호를 남겨주세요! </p>
                <input type="number" placeholder="010 0000 0000" id="phoneNum">
            </div>
            <div class="draw-cont-btn">
                <button type="button" class="base-btn" id="drawSendBtn">쿠폰 발송하기</button>
            </div>
        </section>
        <!-- // -->

        <!-- # 뽑기 발송 완료 -->
        <section class="draw-send-wrap">
            <div class="leaves01 obj"><img src="./images/img_obj_leaves01.png"></div>
            <div class="leaves02 obj"><img src="./images/img_obj_leaves02.png"></div>
            <div class="send-img"><img src="./images/img_send_visual.png"></div>
            <h2>
                당첨 쿠폰을 <br>문자로 발송했어요!
                <p>2024. 04. 30까지<br>타임딜 차량 구매시 사용 가능해요<br><br>온라인 계약 후 세일즈매니저에게<br>쿠폰사용을 요청하세요</p>
            </h2>
            <div class="draw-cont-btn">
                <button type="button" class="base-btn" id="drawClose">현재 창 닫기</button>
            </div>
        </section>
        <!-- // -->
    </div>
    <!-- # 유의사항 영역 -->
    <div class="draw-promo-noti">
        <p class="tit">※ 뽑기 이벤트 참여 및 당첨은 인당 1회만 가능합니다.</p>
        <div class="noti-list">
            <strong>꼭 읽어주세요!</strong>
            <ul>
                <li>뽑기 이벤트 당첨 시 제공되는 쿠폰은 ‘타임딜’ 차량 구매 시 사용 가능합니다.</li>
                <li>발급된 쿠폰은 휴대폰 문자로 발송되며, 쿠폰 사용은 차량 온라인 구매 후 담당 세일즈 매니저에게 사용 문의 부탁드립니다.</li>
                <li>1~3등 당첨 페이백은 신세계 상품권으로 제공되며, 계약 익월 휴대폰 번호로 발송됩니다.</li>
                <li>4등 당첨 스타벅스 아메리카노는 계약 익월 휴대폰번호로 발송됩니다.</li>
                <li>차량 재고 소진 시 해당 이벤트는 조기종료되며, 대차 프로모션을 제외한 타 이벤트 할인 등과 중복 사용은 불가합니다.</li>
            </ul>
        </div>
    </div>
    <!-- // -->

    <script src="../common/js/jquery-3.3.1.min.js"></script>
    <script src="../common/js/swiper.min.js"></script>
    <script src="./js/custom.js"></script>
    <script>
        var wrapper = $('.draw-promo-wrap');
        var benefitOpt= {}

        function drawAction(sec){
            wrapper.find('#drawActBtn').attr('disabled', true);
            wrapper.find('.machine-crane').addClass('active');
            $('html, body').animate({ scrollTop: 0 }, 500);

            setTimeout(function(){
                var randomNum = Math.floor(Math.random()*100+1);

                if(randomNum <= 5) {
                    benefitOpt.rank = 1;
                    benefitOpt.title = '‘1등! 페이백 30만원’ 당첨';
                }else if(randomNum <= 10) {
                    benefitOpt.rank = 2;
                    benefitOpt.title = '‘2등! 페이백 10만원’ 당첨';
                }else if(randomNum <= 15) {
                    benefitOpt.rank = 3;
                    benefitOpt.title = '‘3등! 페이백 5만원’ 당첨';
                }else{
                    benefitOpt.rank = 4;
                    benefitOpt.title = '스타벅스 아메리카노(Tall) 당첨';
                }

                wrapper.find('.draw-result-wrap h2').prepend(benefitOpt.title);
                wrapper.find('.draw-result-wrap .result-box').addClass('rank' + benefitOpt.rank);
                wrapper.find('.draw-cont-benefit, .draw-cont-machine > .draw-cont-btn, [class*="flower"]').hide();
                wrapper.find('.draw-result-wrap').addClass('show').show();
            }, sec * 1000);
        }

        function drawSend(){
            wrapper.addClass('bgChange');
            wrapper.find('.draw-result-wrap').removeClass('show'); 
            wrapper.find('.draw-cont-machine, .draw-result-wrap').hide();
            wrapper.find('.draw-send-wrap').addClass('show').show();
            $('html, body').animate({ scrollTop: 0 }, 500);
        }

        $(document).ready(function(){
            if(wrapper.length){
                $('#phoneNum').on('input', function() {
                    $(this).val($(this).val().replace(/[^0-9]/g,""));
                });
                $('#drawActBtn').on('click', function(e) {
                    e.preventDefault();
                    drawAction(5.4);
                });
                $('#drawSendBtn').on('click', function(e) {
                    e.preventDefault();
                    drawSend();
                });
            }
        });
    </script>
</body>
</html>
